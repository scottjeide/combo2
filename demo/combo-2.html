<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Combo2 Test</title>
        <meta name="description" content="WUI - Webteam User Interface is a *vc javascript framework for rapid app development.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <style>
            body {
                text-align: left;
                margin: 1000px 3em;
            }
        </style>
        
        <script src="../src/js/libs/jquery-1.12.1.js"></script>
        
        <!-- PRODUCTION FILES
        <link rel="stylesheet" href="../combo2/combo-2.min.css" type="text/css" media="all">
        <script src="../combo2/combo-2.min.js"></script> -->
        
        <!-- SOURCE FILES -->
            <link rel="stylesheet" href="../src/css/goodies/combo-2.css" type="text/css" media="all">
            <script src="../src/js/libs/es5-shim.js"></script>
            <script src="../src/js/libs/verge.js"></script>
            <script src="../src/js/core-methods.js"></script>
            <script src="../src/js/Component/Data.js"></script>
            <script src="../src/js/Component/Smarty.js"></script>
            <script src="../src/js/goodies/Combo2.js"></script>
        
    </head>
    <body>
        <input type="text" name="guys" list="heroes" />
        <datalist id="heroes">
            <option value="clark kent">Super Man</option>
            <option value="oliver queen">Green Arrow</option>
            <option value="barry allen">The Flash</option>
        </datalist>
        
        <select name="the_guys" id="the_guys">
            <optgroup label="Awesome">
                <option value disabled selected>(required)</option>
                <option value></option>
                <option>Tim</option>
                <option>Stephen</option>
                <option>Lance</option>
                <option>Bobby</option>
                <option>DeVerl</option>
                <option>Jeff</option>
            </optgroup>
            <optgroup label="Super">
                <option value="bruce wayne">Na na na na na na na na na na na na na na na na na na na na na na na na na Batman!</option>
                <option value="clark kent">Super Man</option>
                <option value="oliver queen">Green Arrow</option>
                <option value="barry allen">The Flash</option>
            </optgroup>
        </select>
        
        <select name="asdf" id="asdf">
            <optgroup label="Awesome">
                <option value disabled selected>(required)</option>
                <option value></option>
                <option>Tim</option>
                <option>Stephen</option>
                <option>Lance</option>
                <option>Bobby</option>
                <option>DeVerl</option>
                <option>Jeff</option>
            </optgroup>
            <optgroup label="Super">
                <option value="bruce wayne">Na na na na na na na na na na na na na na na na na na na na na na na na na Batman!</option>
                <option value="clark kent">Super Man</option>
                <option value="oliver queen">Green Arrow</option>
                <option value="barry allen">The Flash</option>
            </optgroup>
        </select>
        
        <input type="text" name="girls" />
        
        <script>
            datalist = new Wui.Combo2({
                lang:   'html',
                id:     'hoot',
                cls:    'some-class',
                width:  '33%'
            }, '[name=the_guys]');
            
            loc_datalist = new Wui.Combo2({
                width:  200,
                valueItem: 'id',
                titleItem: 'name',
                showOpenButton: false,
                data:   [{id:0, name:"Professor X"}, {id:2, name:"Steve"}, {id:1, name:"Wolverine"}]
            });
            
            rem_datalist = new Wui.Combo2({
                autoLoad:   false,
                width:      200,
                valueItem:  'tx_id',
                titleItem:  'description',
                url:        'data.json',
                template:   '<li>{|function:"amountView":"amount"} {description}</li>',
                templateFn: {
                    amountView: function(amount) {
                        if (amount > 0) {
                            return '<span style="color:green">' + amount + '</span>';
                        }
                        else {
                            return '<span style="color:red">' + amount + '</span>';
                        }
                    }
                },
                // used to simulate a server filtering the data on search for the purpose of this demo.
                processData: function(r) {
                    if(this.searchFilter){
                        for(var i = r.length - 1; i >= 0; i--){
                            if(r[i][this.titleItem]
                                .toUpperCase()
                                .indexOf(this.searchFilter.toUpperCase()) < 0
                            )
                                r.splice(i,1);
                        }
                    }
                    return r;                            
                },
                placeholder:'Type to Search',
                after:      '[name=guys]'
            });
            
            // $(document).on('valchange', function(event, combo) {
            //     if (console) {
            //         console.log(arguments, combo.val(), $('[name=the_guys]').val());
            //     }
            // });
            
            // $('[name=the_guys]').on('focus', function(){
            //     if (console) {
            //         console.log('focused!');
            //     }
            // });
            
            // $('[label=Awesome]').append('<option>Dave</Dave>');
            // $('[name=the_guys]').val('Dave');
        </script>
    </body>
</html>